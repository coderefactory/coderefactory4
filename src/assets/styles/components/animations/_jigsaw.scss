// $gear-face: #a1a2b4;
// $gear-mid: #5a5b5d;
// $gear-shadow: #2a2b2d;

#animation-jigsaw {
  width: 400px;
  height: 400px;
  margin: 0 auto;
  position: relative;

  &:before {
    content: '';
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    z-index: -1;
    background-color: aqua;
    opacity: 0.5;
  }

  #jigsaw-box {
    transform-style: preserve-3d;
    // transform: rotateX(12deg) rotateY(-35deg) rotateZ(0deg);
    perspective: 100vmin;

    svg {
      position: absolute;
      width: 200px;
      height: 200px;
      overflow: visible;

      path {
        transform-origin: center;

        &.morph-to {
          visibility: hidden;
        }
      }

      // top right piece
      &:nth-child(1) {
        top: 0;
        left: 50%;

        path {
          &.morph-from {
            transform: translate(-12%, -7%) rotate(0deg);
          }
          &.morph-to {
            transform: translate(-38px, 62px) rotate(0deg);
          }
        }
      }

      // bottom right piece
      &:nth-child(2) {
        top: 50%;
        left: 50%;

        path {
          &.morph-from {
            transform: translate(-88%, -70%) rotate(0deg);
          }
          &.morph-to {
            transform: translate(-62px, -38px) rotate(90deg);
          }
        }
      }

      // bottom left piece
      &:nth-child(3) {
        top: 50%;
        left: 0;

        path {
          &.morph-from {
            transform: translate(88%, -33%) rotate(0deg);
          }
          &.morph-to {
            transform: translate(38px, -62px) rotate(180deg);
          }
        }
      }

      // top left piece
      &:nth-child(4) {
        top: 0;
        left: 0;

        path {
          &.morph-from {
            transform: translate(12%, 105%) rotate(0deg);
          }
          &.morph-to {
            transform: translate(62px, 38px) rotate(270deg);
          }
        }
      }

      // &:nth-child(odd) {
      //   left: 38%;
      // }

      // &:nth-child(even) {
      //   left: 12%;
      // }

      // @for $i from 1 through 4 {
      //   &:nth-child(#{$i}) {
      //     top: #{($i - 1.3) * 21%};
      //   }
      // }
    }
  } // #jigsaw-box
}
